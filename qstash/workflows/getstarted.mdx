---
title: "Getting Started"
---

Workflows is an SDK which will run any of your existing infrasturcture. Especially designed for overcoming 
serverless platforms.  

Workflows are an SDK for you built on top of existing Qstash API.
List of our SDK's that supports Workflows. js sdk for now.


```javascript
import { serve } from "@upstash/qstash/workflow/nextjs";
import { sendEmail, reportFailure, getUserEmail, UserQuestionRequest } from "./utils"

export const POST = serve<{userRequest: UserQuestionRequest}>({async context => {
    const request = context.requestPayload.userRequest

    const emailPromise = context.run("retrieveEmail", async () => {
        return await getUserEmail(request.userId)
    });

    const openAIPromise = context.call(
      "call open ai",
      "https://api.openai.com/v1/chat/completions",
      "POST",  "Authorization: Bearer $OPENAI_API_KEY",
      {"model": "gpt-3.5-turbo-16k",
        "messages": [{"role": "system", "content": "You are a helpful assistant." },
                     {"role": "user","content": request.question}]}
    )

    email, response = await Promise.all(emailPromise, openAiPromise)

    for (let i = 0; i < 3; i++) {
        emailSendSuccess = await context.run("sendEmail", async() => {
            const success = await sendEmail(email, response)
            retrun success
        })
        if emailSendSuccess {
            return 
        }

        await context.sleep("sleep for email retry" , 1d)
    }

    await context.run("report a failure to internal system", async() => {
        await reportFailure(request.userId)
    })
  
  }
})
```