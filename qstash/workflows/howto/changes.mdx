---
title: "Manage Code Changes"
---

Workflow endpoints consist of multiple steps, each acting as a continuation point for the workflow. When you update the code, it is possible that an in-progress workflow run might try to resume from a point that no longer exists due to changes in the code structure.

If the updated code prevents an in-progress workflow from continuing, the workflow will fail with the following error message:

```
HTTP status 400. Incompatible step name. Expected ${stepName}, got ${stepName} from the request
```

This error indicates a mismatch between the expected and actual step names, resulting from code changes.

This error message can be seen in the [workflows tab](https://console.upstash.com/qstash?tab=workflows) of the console.
Check out [monitor logs documentation](/qstash/workflows/howto/monitor) for more details about where to find error messages.

It's important to note that changing the workflow endpoint code is safe as long as there are no ongoing workflow runs. However, if there are active runs, the only permitted change is adding a step to the end of the workflow.

Hereâ€™s some guidance for handling code changes:

- **If you're okay with in-progress workflows failing**, any code change is acceptable.
- **If you want to avoid failures**, consider using a different route for the new code, if possible.
- **If you must keep the same route**, ensure you stop traffic before deploying the new code.
- **If stopping traffic isn't an option**, limit your changes to adding new steps at the end of the workflow.

For a deeper understanding of these limitations, refer to the [How It All Works](/qstash/workflows/how) section.
